{
  "scriptFile": "insert_summary.py",
  "bindings": [
    {
      "direction": "in",
      "type": "queueTrigger",
      "name": "requestMsg",
      "queueName": "summary-requests",
      "connection": "AzureWebJobsStorage"
    },
    {
      "direction": "in",
      "type": "table",
      "name": "dataJson",
      "tableName": "DeviceTelemetry",
      "partitionKey": "{readPartition}",
      "filter": "RowKey gt '{startTime}' and RowKey lt '{endTime}'",
      "connection": "AzureWebJobsStorage"
    },
    {
      "direction": "out",
      "type": "table",
      "name": "$return",
      "tableName": "DeviceTelemetry",
      "partitionKey": "{writePartition}",
      "rowKey": "{writeRow}",
      "connection": "AzureWebJobsStorage"
    }
  ]
}